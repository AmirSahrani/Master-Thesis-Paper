\chapter{Methods}
\label{Methods}
\lhead{\emph{Methods}} % Set the left side page header to "Symbols"

We proceed with the methods used to replicate the paper by \citet{radDeliberationSinglePeakednessCoherent2021}, as well as the experimental setup of our own model. Links to the data used for these experiments can be found in \Cref{ethics_data}. The programs are implemented using \texttt{Ocaml}, and \texttt{Python}.


\section{Replication}
We implement the model as described in \Cref{section:related_work}, agents are only allowed strict preferences over all candidates. All experiments are done with 3 alternatives, and 51 voters. The number of voters is specifically chosen to be an odd number, as this prevents perfect ties between alternatives. We measure all evaluations relating to strict preferences, as reported by \citet{radDeliberationSinglePeakednessCoherent2021}, in addition to those we also measure the number of Condorcet winners. 

\section{Experiments}
We aim to replicate the findings by the America in One Room experiments \cite{fishkinCanDeliberationHave2024}, to this end we use two models. Firstly we use the adapted DeGroot model as laid out in \Cref{sec: main model}, then we extend these results using our Agent Based model. The original experiment had a control group as well as the experimental group. To model the control group, we map all the voters onto various graphs, such as the graph of academic citations, or a social media network \cite{nr}. We explain the mapping in the next section. The experimental group is simply modelled as a densely connected network, the weights of the edges, and thus the values of the trust matrix, as generated \textcolor{red}{T.B.D.}. 

\subsection{Voter Mapping}
In order to simulate realistic information flow through the control group, we aim to use a natural graph structure, as well as a natural mapping from voters to nodes. Firstly, in order to generate the graph, a starting graph is taken, for example the graph of academic citations, and the TIES \cite{ahmedNetworkSamplingEdgebased} algorithm is then used to sample exactly $n$ nodes from this graph. The TIES Algorithm first samples an edge, and adds both the source and target node to the new graph, these stage is called the sampling stage. After the desired number of nodes has been reached, we proceed to the induction step, during which all the edges that exist between the sampled nodes in the original graph are added to the new graph. This algorithm allows for the use of large, natural graphs, by scaling them down to the number of nodes desired. 

Once the proper graph is generated, we calculate the pairwise shortest paths between all nodes, as well as the distance in voter opinions. We then normalize both to the $[0,1]$ interval, and map the voters to the nodes such that the difference between the shortest path distance and the opinion distance is minimized. 

\textcolor{Bittersweet}{I think this would benefit from a diagram to visualize the "pipeline"}.

\subsection{DeGroot extension}
\subsection{Agent Based Model}
\subsection{Analysis}
\subsubsection{Sensitivity Analysis}

